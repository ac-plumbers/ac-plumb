---
import { Image } from "astro:assets";
import logo from "@/images/logo/logo.png";
import Link from "@/components/fundations/elements/Link.astro";
---

<!-- Skip to main content link for keyboard users -->
<Link
  href="#main-content"
  variant="default-button"
  class="sr-only z-[100] focus:not-sr-only focus:absolute focus:top-2 focus:left-2"
>
  Skip to main content
</Link>

<header class="absolute inset-x-0 top-0 z-50">
  <div class="mx-auto max-w-[1330px]">
    <div class="px-6 pt-6 lg:max-w-2xl lg:pr-0 lg:pl-8">
      <nav
        class="flex items-center justify-between space-x-4 lg:justify-start"
        aria-label="Global"
      >
        <!-- Use Link component for logo -->
        <Link
          href="/"
          variant="default-link"
          class="-m-1.5 inline-flex flex-shrink-0 items-center p-1.5"
        >
          <span class="sr-only">AC Plumbers</span>
          <Image
            src={logo}
            alt="AC Plumbers Logo"
            width={300}
            height={300}
            class="h-auto w-20 object-contain sm:w-28 md:w-32 lg:w-28"
          />
        </Link>

        <button
          type="button"
          class="-m-2.5 rounded-md p-2.5 text-gray-700 focus:ring-2 focus:ring-[--color-primary-600] focus:ring-offset-2 focus:outline-none lg:hidden"
          id="open-menu-button"
          aria-controls="mobile-menu"
          aria-expanded="false"
          aria-haspopup="true"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="size-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            aria-hidden="true"
            data-slot="icon"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
          </svg>
        </button>

        <!-- Desktop navigation - clean Link usage -->
        <div class="hidden flex-grow-0 uppercase lg:ml-12 lg:flex lg:gap-x-14">
          <Link href="/services" variant="default-link">Services</Link>
          <Link href="/landlords" variant="default-link">Landlords</Link>
          <Link href="/about-us" variant="default-link">About</Link>
          <Link href="/testimonials" variant="default-link">Testimonials</Link>
          <Link href="/contact-us" variant="default-link">Contact</Link>
        </div>
      </nav>
    </div>
  </div>

  <!-- Mobile menu -->
  <nav
    aria-label="Mobile navigation"
    class="hidden font-poppins lg:hidden"
    role="dialog"
    aria-modal="true"
    aria-labelledby="mobile-menu-title"
    id="mobile-menu"
  >
    <h2 id="mobile-menu-title" class="sr-only">Main Navigation Menu</h2>
    <div class="fixed inset-0 z-50 bg-black/25" id="menu-backdrop"></div>
    <div
      class="fixed inset-y-0 right-0 z-50 w-full translate-x-full transform overflow-y-auto bg-white p-6 transition-transform duration-300 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10"
      id="menu-panel"
    >
      <div class="flex items-center justify-between">
        <!-- Mobile logo should also use Link component -->
        <Link href="/" variant="default-link" class="-m-1.5 p-1.5">
          <span class="sr-only">AC Plumbers</span>
          <Image
            class="h-8 w-auto"
            src={logo}
            width={48}
            height={48}
            alt="AC Plumb Logo"
          />
        </Link>

        <button
          type="button"
          class="-m-2.5 rounded-md p-2.5 text-gray-700 focus:ring-2 focus:ring-[--color-primary-600] focus:ring-offset-2 focus:outline-none"
          id="close-menu-button"
          aria-label="Close navigation menu"
        >
          <span class="sr-only">Close menu</span>
          <svg
            class="size-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            aria-hidden="true"
            data-slot="icon"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18 18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <div class="mt-6 flow-root">
        <div class="-my-6 divide-y divide-gray-500/10">
          <div class="flex flex-col space-y-2 py-6" role="list">
            <!-- Clean mobile links - let Link component handle all styling -->
            <Link
              href="/services"
              variant="default-link"
              class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold hover:bg-gray-50"
              role="listitem"
            >
              Services
            </Link>
            <Link
              href="/landlords"
              variant="default-link"
              class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold hover:bg-gray-50"
              role="listitem"
            >
              Landlords
            </Link>
            <Link
              href="/testimonials"
              variant="default-link"
              class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold hover:bg-gray-50"
              role="listitem"
            >
              Testimonials
            </Link>
            <Link
              href="/about-us"
              variant="default-link"
              class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold hover:bg-gray-50"
              role="listitem"
            >
              About
            </Link>
            <Link
              href="/contact-us"
              variant="default-link"
              class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold hover:bg-gray-50"
              role="listitem"
            >
              Contact
            </Link>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
