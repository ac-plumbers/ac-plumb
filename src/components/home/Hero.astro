---
import { Image } from "astro:assets";
import { ArrowRight, BadgePoundSterling } from "@lucide/astro";

import imgHero from "@/images/lavori/6.jpeg";
import Button from "@/components/fundations/elements/Button.astro";
import Link from "@/components/fundations/elements/Link.astro";
import Text from "../fundations/elements/Text.astro";
---

<div class="bg-[--color-background-00]">
  <div class="relative">
    <div class="mx-auto max-w-7xl">
      <div class="relative z-10 pt-14 lg:w-full lg:max-w-2xl">
        <!-- gap beteween hero and picture -->
        <svg
          class="absolute inset-y-0 right-8 hidden h-full w-80 translate-x-1/2 transform fill-primary-50 lg:block"
          viewBox="0 0 100 100"
          preserveAspectRatio="none"
          aria-hidden="true"
        >
          <polygon points="0,0 90,0 50,100 0,100"></polygon>
        </svg>

        <div class="relative px-6 py-32 sm:py-40 lg:px-8 lg:py-56 lg:pr-0">
          <div class="mx-auto max-w-2xl lg:mx-0 lg:max-w-xl">
            <div class="hidden sm:mb-10 sm:flex">
              <div
                class="relative rounded-full px-3 py-1 font-poppins text-sm/6 text-text-00 ring-1 ring-gray-900/10 hover:ring-gray-900/20"
              >
                Trusted by homeowners across Sussex. <a
                  href="/testimonials"
                  class="font-semibold whitespace-nowrap text-accent-00"
                  ><span class="absolute inset-0" aria-hidden="true"></span>Read
                  reviews <span aria-hidden="true">&rarr;</span></a
                >
              </div>
            </div>
            <Text tag="h1" variant="display2XL" class="font-poppins">
              <span slot="left-icon"> </span>
              Plumbing, Heating & Renewable Energy Experts in Brighton & Hove
            </Text>
            <p
              class="mt-8 text-lg font-medium text-pretty text-text-100/80 sm:text-xl/8"
            >
              Gas boilers, heat pumps, smart thermostats, and complete plumbing
              solutions â€” professionally delivered with care and certification.
              Serving Brighton, Lewes, Worthing & beyond.
            </p>
            <div class="mt-10 flex items-center gap-x-4 sm:gap-x-6">
              <Link
                href="/contact-us"
                variant="accent-button"
                size="md"
                gap="xs"
                class="px-3 sm:px-4"
              >
                <span slot="left-icon" class="hidden sm:inline-flex">
                  <BadgePoundSterling class="h-5 w-5" />
                </span>
                <span class="text-sm sm:text-base">Request a Quote</span>
              </Link>

              <Link
                href="/services"
                variant="default-link"
                class="flex items-center text-xs font-semibold whitespace-nowrap transition-colors hover:text-primary-600 sm:text-sm"
              >
                View Services
                <span slot="right-icon" aria-hidden="true">
                  <ArrowRight class="ml-1 h-4 w-4" />
                </span>
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bg-gray-50 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
      <Image
        class="aspect-[3/2] object-cover lg:aspect-auto lg:size-full"
        src={imgHero}
        alt=""
      />
    </div>
  </div>
</div>
<script>
  // Mobile menu functionality
  document.addEventListener("DOMContentLoaded", () => {
    const openMenuButton = document.getElementById("open-menu-button");
    const closeMenuButton = document.getElementById("close-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuPanel = document.getElementById("menu-panel");
    const menuBackdrop = document.getElementById("menu-backdrop");

    function openMenu() {
      // Show the mobile menu
      if (mobileMenu) {
        mobileMenu.classList.remove("hidden");
      }

      // Allow time for the DOM to update before animating
      setTimeout(() => {
        if (menuPanel) {
          menuPanel.classList.remove("translate-x-full");
        }
      }, 10);

      // Prevent body scrolling
      document.body.style.overflow = "hidden";
    }

    function closeMenu() {
      // Animate the panel out
      menuPanel?.classList.add("translate-x-full");

      // Hide the entire menu after animation completes
      setTimeout(() => {
        mobileMenu?.classList.add("hidden");
        document.body.style.overflow = "";
      }, 300); // Match this with your transition duration
    }

    // Event listeners
    if (openMenuButton) {
      openMenuButton.addEventListener("click", openMenu);
    }
    if (closeMenuButton) {
      closeMenuButton.addEventListener("click", closeMenu);
    }
    if (menuBackdrop) {
      menuBackdrop.addEventListener("click", closeMenu);
    }

    // Close menu when pressing Escape key
    document.addEventListener("keydown", (e) => {
      if (
        e.key === "Escape" &&
        mobileMenu &&
        !mobileMenu.classList.contains("hidden")
      ) {
        closeMenu();
      }
    });
  });
</script>
