---
// src/components/home/Services.astro
import ServicesGrid from "@/components/services/ServicesGrid.astro";
import { getCollection } from "astro:content";

// Get featured services for homepage
const allServices = await getCollection("services");
const featuredServices = allServices
  .filter((service) => service.data.featured)
  .slice(0, 6); // Show only 6 featured services on homepage
---

<section class="bg-white py-16 sm:py-24">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <!-- Section Header -->
    <div class="mx-auto mb-16 max-w-2xl text-center">
      <h2
        class="text-3xl font-bold tracking-tight text-neutral-900 sm:text-4xl"
      >
        Our Expert Services
      </h2>
      <p class="mt-4 text-lg leading-8 text-neutral-600">
        Professional plumbing, heating, and gas services across Brighton & Hove.
        From emergency repairs to complete installations.
      </p>
    </div>

    <!-- Services Grid -->
    <ServicesGrid services={featuredServices} />

    <!-- View All Services CTA -->
    <div class="mt-12 text-center">
      <a
        href="/services"
        class="inline-flex items-center gap-2 rounded-lg bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors duration-200 hover:bg-primary-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600"
      >
        View All Services
        <svg
          class="h-5 w-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>
