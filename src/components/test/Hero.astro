---
import { Image } from 'astro:assets';
import logo from '@/images/logo/logo.png';
import imgHero from '@/images/lavori/6.jpeg';
import Button from '@/components/fundations/elements/Button.astro';
---

<div class='bg-white'>
  <header class='absolute inset-x-0 top-0 z-50'>
    <div class='mx-auto max-w-7xl'>
      <div class='px-6 pt-6 lg:max-w-2xl lg:pl-8 lg:pr-0'>
        <nav
          class='flex items-center justify-between lg:justify-start'
          aria-label='Global'>
          <a href='#' class='-m-1.5 p-1.5'>
            <span class='sr-only'>AC Plumbers</span>
            <Image src={logo} alt='AC Plumb Logo' width={48} height={48} />
          </a>
          <button
            type='button'
            class='-m-2.5 rounded-md p-2.5 text-gray-700 lg:hidden'
            id='open-menu-button'>
            <span class='sr-only'>Open main menu</span>
            <svg
              class='size-6'
              fill='none'
              viewBox='0 0 24 24'
              stroke-width='1.5'
              stroke='currentColor'
              aria-hidden='true'
              data-slot='icon'>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5'></path>
            </svg>
          </button>
          <div class='hidden lg:ml-12 lg:flex lg:gap-x-14'>
            <a href='/services' class='text-sm/6 font-semibold text-gray-900'
              >Services</a
            >
            <a href='/gallery' class='text-sm/6 font-semibold text-gray-900'
              >Gallery</a
            >
            <a
              href='/testimonials'
              class='text-sm/6 font-semibold text-gray-900'>Testimonials</a
            >
            <a href='/about-us' class='text-sm/6 font-semibold text-gray-900'
              >About</a
            >
            <a href='/contact-us' class='text-sm/6 font-semibold text-gray-900'
              >Contact</a
            >
          </div>
        </nav>
      </div>
    </div>
    <!-- Mobile menu, show/hide based on menu open state. -->
    <div
      class='lg:hidden hidden'
      role='dialog'
      aria-modal='true'
      id='mobile-menu'>
      <!-- Background backdrop, show/hide based on slide-over state. -->
      <div class='fixed inset-0 z-50 bg-black/25' id='menu-backdrop'></div>
      <div
        class='fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white p-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10 transform transition-transform duration-300 translate-x-full'
        id='menu-panel'>
        <div class='flex items-center justify-between'>
          <a href='#' class='-m-1.5 p-1.5'>
            <span class='sr-only'>Your Company</span>
            <Image
              class='h-8 w-auto'
              src={logo}
              width={48}
              height={48}
              alt=''
            />
          </a>
          <button
            type='button'
            class='-m-2.5 rounded-md p-2.5 text-gray-700'
            id='close-menu-button'>
            <span class='sr-only'>Close menu</span>
            <svg
              class='size-6'
              fill='none'
              viewBox='0 0 24 24'
              stroke-width='1.5'
              stroke='currentColor'
              aria-hidden='true'
              data-slot='icon'>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                d='M6 18 18 6M6 6l12 12'></path>
            </svg>
          </button>
        </div>
        <div class='mt-6 flow-root'>
          <div class='-my-6 divide-y divide-gray-500/10'>
            <div class='space-y-2 py-6'>
              <a
                href='/services'
                class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50'
                >Services</a
              >
              <a
                href='/gallery'
                class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50'
                >Gallery</a
              >
              <a
                href='/testimonials'
                class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50'
                >Testimonials</a
              >
              <a
                href='/about-us'
                class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50'
                >About</a
              >
              <a
                href='/contact-us'
                class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50'
                >Contact</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class='relative'>
    <div class='mx-auto max-w-7xl'>
      <div class='relative z-10 pt-14 lg:w-full lg:max-w-2xl'>
        <svg
          class='absolute inset-y-0 right-8 hidden h-full w-80 translate-x-1/2 transform fill-white lg:block'
          viewBox='0 0 100 100'
          preserveAspectRatio='none'
          aria-hidden='true'>
          <polygon points='0,0 90,0 50,100 0,100'></polygon>
        </svg>

        <div class='relative px-6 py-32 sm:py-40 lg:px-8 lg:py-56 lg:pr-0'>
          <div class='mx-auto max-w-2xl lg:mx-0 lg:max-w-xl'>
            <div class='hidden sm:mb-10 sm:flex'>
              <div
                class='relative rounded-full px-3 py-1 text-sm/6 text-text-00 ring-1 ring-gray-900/10 hover:ring-gray-900/20'>
                Trusted by homeowners across Sussex. <a
                  href='/testimonials'
                  class='whitespace-nowrap font-semibold text-accent-00'
                  ><span class='absolute inset-0' aria-hidden='true'></span>Read
                  reviews <span aria-hidden='true'>&rarr;</span></a
                >
              </div>
            </div>
            <h1
              class='text-pretty text-5xl font-semibold tracking-tight text-gray-900 sm:text-7xl'>
              Plumbing, Heating & Renewable Energy Experts in Brighton & Hove
            </h1>
            <p
              class='mt-8 text-pretty text-lg font-medium text-gray-500 sm:text-xl/8'>
              Gas boilers, heat pumps, smart thermostats, and complete plumbing
              solutions — professionally delivered with care and certification.
              Serving Brighton, Lewes, Worthing & beyond.
            </p>
            <div class='mt-10 flex items-center gap-x-6'>
              <Button variant='default' size='md' class='bg-primary-500 text-white'>
                <span class='text-sm'>Request a Quote</span>
              </Button>
              <a
                href='/contact-us'
                class='rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600'
                >Request a Quote</a
              >
              <a href='/services' class='text-sm/6 font-semibold text-gray-900'
                >View Services <span aria-hidden='true'>→</span></a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='bg-gray-50 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2'>
      <Image
        class='aspect-[3/2] object-cover lg:aspect-auto lg:size-full'
        src={imgHero}
        alt=''
      />
    </div>
  </div>
</div>
<script>
  // Mobile menu functionality
  document.addEventListener('DOMContentLoaded', () => {
    const openMenuButton = document.getElementById('open-menu-button');
    const closeMenuButton = document.getElementById('close-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuPanel = document.getElementById('menu-panel');
    const menuBackdrop = document.getElementById('menu-backdrop');

    function openMenu() {
      // Show the mobile menu
      if (mobileMenu) {
        mobileMenu.classList.remove('hidden');
      }

      // Allow time for the DOM to update before animating
      setTimeout(() => {
        if (menuPanel) {
          menuPanel.classList.remove('translate-x-full');
        }
      }, 10);

      // Prevent body scrolling
      document.body.style.overflow = 'hidden';
    }

    function closeMenu() {
      // Animate the panel out
      menuPanel?.classList.add('translate-x-full');

      // Hide the entire menu after animation completes
      setTimeout(() => {
        mobileMenu?.classList.add('hidden');
        document.body.style.overflow = '';
      }, 300); // Match this with your transition duration
    }

    // Event listeners
    if (openMenuButton) {
      openMenuButton.addEventListener('click', openMenu);
    }
    if (closeMenuButton) {
      closeMenuButton.addEventListener('click', closeMenu);
    }
    if (menuBackdrop) {
      menuBackdrop.addEventListener('click', closeMenu);
    }

    // Close menu when pressing Escape key
    document.addEventListener('keydown', e => {
      if (
        e.key === 'Escape' &&
        mobileMenu &&
        !mobileMenu.classList.contains('hidden')
      ) {
        closeMenu();
      }
    });
  });
</script>
